require_relative "../helper"

file "temp" do
  mkdir "temp"
end

desc "Clean temporary files"
task :clean do
  rm_rf "temp" if File.exists?("temp")
  rm_rf "class" if File.exists?("class")
end

namespace :test do
  desc "Test the Java library"
  task :java do
    puts "Run `ant test` instead"
  end

  desc "Test the plugins's Ruby engine"
  task :engine do
    ruby "-I../../core/lib -Idist/include/java engine_test.rb"
  end
end

desc "Generate the jar file and put it in dist"
task :dist do
  puts "Run `ant dist` instead"
end

desc "Generate solutions for some fixed problems using this plugin"
task generate: "temp" do
  generate_solutions File.dirname(__FILE__)
end

desc "Try running the solutions that were generated by rake generate"
task run: "temp" do
  try_run_solutions File.dirname(__FILE__)
end
